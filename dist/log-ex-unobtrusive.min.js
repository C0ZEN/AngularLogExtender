/**
 * Log Unobtrusive Extension v0.0.7-sha.346c59f
 *
 * Used within AngularJS to enhance functionality within the AngularJS $log service.
 *
 * @original-author  Thomas Burleson
 * @contributor Layton Whiteley
 * @contributor A confused individual <ferronrsmith@gmail.com>
 * @website http://www.theSolutionOptimist.com
 * (c) 2013 https://github.com/lwhiteley/AngularLogExtender
 * License: MIT
 *
 * Modifications made by @contributor Layton Whiteley:
 * - Modified to be a full stand-alone Angular Application for reuse
 * - Has global and feature level activation/disabling for $log
 * - Created and tested with AngularJS v.1.2.3
 */
angular.module("log.ex.uo",[]).provider("logEx",["$provide",function(n){var r=angular.injector(["ng"]),e=r.get("$filter");r.get("$exceptionHandler"),r.get("$http");var t=!1,o=!1,i=!1,u="",a=3e3,l=["error"],g=!1,s=null,c=navigator.userAgent,f=["log","info","warn","debug","error","getInstance"],h=["chrome","firefox"],d=!0,L=["color","background","font-size","border"],v={log:"color: green;",info:"color: blue",warn:"color: #CC9933;",debug:"color: brown;",error:"color: red;"},p=f,b=function(n){return"string"===y(n)?n.replace(/^\s*/,"").replace(/\s*$/,""):""},y=function(n){return Object.prototype.toString.call(n).replace(/(\[|object|\s|\])/g,"").toLowerCase()},E=function(n){return"boolean"===y(n)},x=function(n){return"string"===y(n)&&""!==b(n)},A=function(n,r){return"string"===y(n)&&"string"===y(r)&&-1!=r.toLowerCase().indexOf(n.toLowerCase())?!0:!1},P=function(n,r){return E(n)&&n&&2==r.length},C=function(n,r,e){var t="string"!==y(n)&&"object"!==y(r),o="string"!==y(n)||"object"!==y(r);return t||o?Array.prototype.slice.call(arguments):(e="regexp"===y(e)?e:/\{([^\{\}]*)\}/g,n.replace(e,function(n,e){var t=e.split("."),o=r;try{for(var i in t)o=o[t[i]]}catch(u){o=n}return"string"==typeof o||"number"==typeof o?o:n}))},D=function(){for(var n=0;h.length>n;n++)if(A(h[n],c))return!0;return!1},I=D(),w=function(n){return 1==n.length&&"string"===y(n[0])},G=function(n){for(var r=0;L.length>r;r++)if(A(L[r],n))return!0;return!1},M=function(n){return"string"===y(n)&&A(":",n)&&b(n).length>6&&G(n)},O=function(n,r,e){e="string"===y(e)?e:"";var t=I&&M(r)&&"string"===y(n),o=t?""+e+n:n;return t?["%c"+o,r]:[o]},$=function(n){var r=" >> ",t="MMM-dd-yyyy-h:mm:ssa",o=e("date")(new Date,t);return""+o+("string"!==y(n)?"":"::"+n)+r},m=function(n){var r="";return r=E(g)&&g||!E(o)||!o||!angular.isFunction(s)?$(n):s(n)};n.decorator("$log",["$delegate",function(n){var r=function(){var n=function(n){return E(n)},r=function(n){return n!==!1},e=function(n,r){return E(n)&&E(r)?r:!1},t=function(n,r,e,t,o){var i=x(t)?t:"this instance";!o&&r&&e?n.log(m()+"[OVERRIDE] LOGGING ENABLED - $log enabled for "+i):o&&r&&!e&&n.log(m()+"[OVERRIDE] LOGGING DISABLED - $log disabled for "+i)},o=function(n){var r={};return angular.isArray(n)&&(r={getInstance:angular.noop},angular.forEach(n,function(n){r[n]=angular.noop})),r},i=function(n,r,e,t){var i={},u=o(r);return angular.forEach(f,function(r){var o;if(angular.isDefined(t)){var a=[];angular.copy(t,a),a.unshift(n[r]),I&&d&&(a[5]=M(a[5])?a[5]:v[r]),o=e.apply(null,a)}else o=n[r];i[r]=angular.isUndefined(u[r])?angular.noop:o}),i},u=function(o){var u=function(n,r,t,o,i,u){var a=function(){var a=o?e(g,t):g,l=Array.prototype.slice.call(arguments);if(a){var s=m(r);if(P(i,l)){var c=C.apply(null,l);c="string"===y(c)?[c]:c,l=c}"string"===y(u)&&w(l)?l=O(l[0],u,s):l.unshift(s),n&&n.apply(null,l)}};return a.logs=[],a},a=i(o,p),l=function(e,o,l,s){E(e)?(o=e,e=null):e="string"===y(e)?b(e):null;var c=n(o);return o=r(o),t(a,c,o,e,g),i(a,p,u,[e,o,c,l,s])},g=!1;return angular.extend(o,i(o,p,u,[null,!1,!1,!1,null])),o.getInstance=l,o.enableLog=function(n){g=n},o.logEnabled=function(){return g},o},a=function(n){return i(n,p)};this.enhanceLogger=u,this.exposeSafeLog=a},e=new r;return e.enhanceLogger(n),n.enableLog(t),n.logEnabled()&&n.log("CONFIG: LOGGING ENABLED GLOBALLY"),e.exposeSafeLog(n)}]);var j=function(n){t=E(n)?n:!1},N=function(n){angular.isArray(n)&&(p=n)},S=function(n){angular.isFunction(n)&&(s=n,o=!0)},B=function(n){d=E(n)&&n?!1:!0},R=function(n,r){"string"===y(n)&&v.hasOwnProperty(n)&&M(r)&&(v[n]=r)},U=function(n){"object"===y(n)&&angular.forEach(n,function(n,r){R(r,n)})},F=function(n){angular.isUndefined(n)?g=!0:E(n)&&(g=n)},V=function(n){angular.isUndefined(n)?i=!0:E(n)&&(i=n)},k=function(n){"array"===y(n)&&(l=n)},z=function(n){"number"===y(n)&&(a=n)},H=function(n){"string"===y(n)&&(u=n)};this.$get=function(){return{name:"Log Unobtrusive Extension",version:"0.0.7-sha.346c59f",enableLogging:j,restrictLogMethods:N,overrideLogPrefix:S,disableDefaultColors:B,setLogMethodColor:R,overrideLogMethodColors:U,useDefaultLogPrefix:F,enableLogPushService:V,setAllowedLogPushMethods:k,setLogPushApi:H,setLogPushInterval:z}},this.enableLogging=j,this.overrideLogPrefix=S,this.restrictLogMethods=N,this.disableDefaultColors=B,this.setLogMethodColor=R,this.overrideLogMethodColors=U,this.useDefaultLogPrefix=F,this.enableLogPushService=V,this.setAllowedLogPushMethods=k,this.setLogPushApi=H,this.setLogPushInterval=z}]);